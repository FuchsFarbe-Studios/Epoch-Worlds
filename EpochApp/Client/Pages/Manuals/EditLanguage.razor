@page "/Manual/Language/Edit/{LanguageId}"
@page "/Manual/Language/E/{LanguageId}"
@inherits RequestComponent<EpochApp.Shared.Services.LangOptions>

<FlatTypo Typo="Typo.Heading3" Color="FlatColor.Warning">Edit Language</FlatTypo>

<EditForm Model="@Model" OnSubmit="@(async ctx => await UpdateOptionsAsync(ctx))">
	<FlatTextInput @bind-Value="@Model.LangName" Required="true" Placeholder="Language Name" Label="Language Name" />
	<FlatTextInput @bind-Value="@Model.Pronunciation" Placeholder="Pronunciation" Label="Pronunciation" />
	<FlatTypo Typo="Typo.Heading5" Color="FlatColor.Info">Phonology Options</FlatTypo>
	<FlatTextInput @bind-Value="@Model.Phonology.Consonants" Label="Consonants" Placeholder="Consonants" Disabled="@(Model.Phonology.UseWordStructure || Model.Phonology.UseAdvancedWordStructure)" />
	<FlatTextInput @bind-Value="@Model.Phonology.Vowels" Label="Vowels" Placeholder="Vowels" Disabled="@(Model.Phonology.UseWordStructure || Model.Phonology.UseAdvancedWordStructure)" />
	<FlatSwitchInput @bind-Value="@Model.Phonology.UseWordStructure" Label="Use Word Structure" />
	@if (Model.Phonology.UseWordStructure && !Model.Phonology.UseAdvancedWordStructure)
	{
		<FlatTextInput @bind-Value="@Model.Phonology.WordInitialConsonants" Label="Initial Consonants" Placeholder="Initial Consonants" />
		<FlatTextInput @bind-Value="@Model.Phonology.WordMedialConsonants" Label="Medial Consonants" Placeholder="Medial Consonants" />
		<FlatTextInput @bind-Value="@Model.Phonology.WordFinalConsonants" Label="Final Consonants" Placeholder="Final Consonants" />
		<FlatTextInput @bind-Value="@Model.Phonology.Vowels" Label="Vowels" Placeholder="Vowels" Disabled="@(Model.Phonology.UseWordStructure || Model.Phonology.UseAdvancedWordStructure)" />
		<FlatSwitchInput @bind-Value="@Model.Phonology.UseHarmonicVowels" Label="Vowel Harmony" />
		@if (Model.Phonology.UseHarmonicVowels)
		{
			<FlatTextInput @bind-Value="@Model.Phonology.HarmonicVowels" Label="Harmonic Vowels" Placeholder="Harmonic Vowels" />
		}
	}
	<FlatTypo Typo="Typo.Heading6" Color="FlatColor.Info">Illegal Combinations</FlatTypo>
	<FlatTextInput @bind-Value="@Model.Phonology.IllegalOpts.IllegalCombos" Label="Illegal Combinations" Placeholder="Illegal Combinations" />
	<FlatSwitchInput @bind-Value="@Model.Phonology.IllegalOpts.BanSameVowelTwiceInARow" Label="Ban same vowel twice in a row" />
	<FlatSwitchInput @bind-Value="@Model.Phonology.IllegalOpts.BanSameSyllableTwiceInARow" Label="Ban same syllable twice in a row" />
	<FlatTypo Typo="Typo.Heading6" Color="FlatColor.Info">Vowel Options</FlatTypo>
	<FlatSwitchInput @bind-Value="@Model.Phonology.VowelOpts.UseVowelProbabilities" Label="Vowel Probabilities" />
	<FlatNumericInput TData="decimal" @bind-Value="@Model.Phonology.VowelOpts.VowelAtStart" Label="Vowel probability at start of a word" Placeholder="Vowel probability at start of a word" Disabled="@(!Model.Phonology.VowelOpts.UseVowelProbabilities)" />
	<FlatNumericInput TData="decimal" @bind-Value="@Model.Phonology.VowelOpts.VowelAtEnd" Label="Vowel probability at end of a word" Placeholder="Vowel probability at end of a word" Disabled="@(!Model.Phonology.VowelOpts.UseVowelProbabilities)" />
	<FlatSwitchInput @bind-Value="@Model.Phonology.VowelOpts.UseVowelTones" Label="Vowel Tones" />
	<FlatButton ButtonType="ButtonType.Submit">Create Language!</FlatButton>
</EditForm>