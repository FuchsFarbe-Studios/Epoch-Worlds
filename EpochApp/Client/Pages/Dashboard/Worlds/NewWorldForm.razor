@using ButtonType=MudBlazor.ButtonType
@using Variant=MudBlazor.Variant
@using MudBlazor
@inherits RequestComponent<UserWorldDTO>

@if (WorldModel != null)
{
	<EditForm Model="@WorldModel" OnSubmit="@OnWorldSubmit">
		<DataAnnotationsValidator />
		<ValidationSummary />

		<MudTabs Border="true" Color="Color.Default" SliderColor="Color.Primary" Elevation="0" PanelClass="pa-4 mt-2" Outlined="true" Rounded="true" KeepPanelsAlive="true" ApplyEffectsToContainer="true" TabPanelClass="my-2 pa-2">

			<!-- General World Information -->
			<MudTabPanel Text="General">
				<MudGrid>
					<MudItem xs="12" sm="6">
						<MudTextField Margin="Margin.Dense" @bind-Value="@WorldModel.WorldName" For="@(() => WorldModel.WorldName)" Label="Name" Variant="Variant.Filled" Required="true" AutoFocus="true" FullWidth="true" MaxLength="255" />
					</MudItem>
					<MudItem xs="12" sm="6">
						<MudTextField Margin="Margin.Dense" @bind-Value="@WorldModel.Pronunciation" For="@(() => WorldModel.Pronunciation)" Label="Pronunciation" FullWidth="true" MaxLength="255" />
					</MudItem>
					<MudItem xs="12">
						<MudTextField Margin="Margin.Dense" @bind-Value="@WorldModel.Description" For="@(() => WorldModel.Description)" Label="Description" Variant="Variant.Outlined" Lines="5" FullWidth="true" MaxLength="2000" />
					</MudItem>
					<MudItem xs="12" sm="6">
						<MudTextField Margin="Margin.Dense" @bind-Value="@WorldModel.Header" For="@(() => WorldModel.Header)" Label="Header" FullWidth="true" MaxLength="255" />
					</MudItem>
					<MudItem xs="12" sm="6">
						<MudTextField Margin="Margin.Dense" @bind-Value="@WorldModel.SubHeader" For="@(() => WorldModel.SubHeader)" Label="Sub Header" FullWidth="true" MaxLength="255" />
					</MudItem>
					<MudItem xs="12">
						<MudTextField Margin="Margin.Dense" @bind-Value="@WorldModel.Excerpt" For="@(() => WorldModel.Excerpt)" Label="Excerpt" Variant="Variant.Outlined" Lines="2" FullWidth="true" MaxLength="500" />
					</MudItem>
				</MudGrid>
			</MudTabPanel>

			<MudTabPanel Text="Details">
				<MudGrid>
					<MudItem xs="12">
						<MudSelect Label="Language" @bind-Value="@WorldModel.LanguageCode" For="@(() => WorldModel.LanguageCode)" Margin="Margin.Dense" Variant="Variant.Outlined" Dense="true" FullWidth="true">
							@foreach (var lang in _languages)
							{
								<MudSelectItem Value="@lang.LanguageCode">@lang.LanguageName</MudSelectItem>
							}
						</MudSelect>
					</MudItem>
					<MudItem xs="12" sm="6">
						<MudTextField Margin="Margin.Dense" @bind-Value="@WorldModel.FollowerNamingSingular" For="@(() => WorldModel.FollowerNamingSingular)" Label="Follower Name Singular" FullWidth="true" MaxLength="100" />
					</MudItem>
					<MudItem xs="12" sm="6">
						<MudTextField Margin="Margin.Dense" @bind-Value="@WorldModel.FollowerNamingPlural" For="@(() => WorldModel.FollowerNamingPlural)" Label="Follower Name Plural" FullWidth="true" MaxLength="100" />
					</MudItem>
				</MudGrid>
			</MudTabPanel>

		</MudTabs>

		<MudButton Color="Color.Primary" ButtonType="ButtonType.Submit" FullWidth="true">Submit</MudButton>
	</EditForm>
}