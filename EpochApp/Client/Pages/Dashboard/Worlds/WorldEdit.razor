@page "/World/Edit"
@page "/World/E"
@page "/World/Edit/{WorldId?}"
@page "/World/E/{WorldId?}"

@using Justify=MudBlazor.Justify
@using MaxWidth=MudBlazor.MaxWidth
@using Typo=MudBlazor.Typo
@using MudBlazor

<PageTitle>@StaticUtils.Constants.AppName - Edit World</PageTitle>

<MudPaper MinHeight="400px" Outlined="true" Width="100%">
	@if (string.IsNullOrEmpty(WorldId) || _selectedWorld == null)
	{
		<MudPaper Outlined="true" Class="pa-2 m-auto mud-theme-dark">
			<MudStack Justify="Justify.Center" Spacing="2">
				<MudSelect @bind-Value="@WorldId" Label="Select World">
					@foreach (var world in _userWorlds)
					{
						<MudSelectItem Value="@(world.WorldID.ToString())">@world.WorldName</MudSelectItem>
					}
				</MudSelect>
				<MudButton Disabled="@(string.IsNullOrWhiteSpace(WorldId))" OnClick="@(() => Nav.NavigateTo($"/World/E/{WorldId}"))">Edit Selected World</MudButton>
			</MudStack>
		</MudPaper>
	}
	else
	{
		<MudContainer MaxWidth="MaxWidth.Medium">
			<MudText Typo="Typo.h3" Class="mb-1">Edit World</MudText>
			<NewWorldForm WorldId="@_selectedWorld.WorldID" />
		</MudContainer>
	}
</MudPaper>