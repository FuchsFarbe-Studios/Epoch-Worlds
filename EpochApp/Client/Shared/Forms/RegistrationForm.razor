@namespace EpochApp.Client.Shared

<EditForm Model="@_registration" OnSubmit="async (ctx) => HandleRegistrationAsync(ctx)">
	<DataAnnotationsValidator />

	<FlatTextField @bind-Value="_registration.UserName" InputMode="InputType.Text" Floating="true" Id="@(nameof(_registration.UserName))" MaxLength="64" Label="Username" Placeholder="Login name" />
	<FlatTextField @bind-Value="_registration.Password" InputMode="InputType.Password" Floating="true" Id="@(nameof(_registration.Password))" MaxLength="64" Label="Password" Placeholder="Password" />
	<FlatTextField @bind-Value="_registration.Password2" InputMode="InputType.Password" Floating="true" Id="@(nameof(_registration.Password2))" MaxLength="64" Label="Confirm Password" Placeholder="Confirm Password" />
	<FlatBreak Color="FlatColor.Accent" BreakType="BreakType.Short" />
	<FlatButton Color="FlatColor.Accent" Type="ButtonType.Submit">Register!</FlatButton>
	<FlatTypo>Already have an account? <FlatLink >Log in!</FlatLink></FlatTypo>

</EditForm>

@code {

	private RegistrationDTO _registration = new RegistrationDTO();

	[Inject] private ILogger<RegistrationForm> Logger { get; set; }

	public async Task HandleRegistrationAsync(EditContext ctx)
	{
		Logger.LogInformation("User registered");
		await Task.CompletedTask;
	}

}