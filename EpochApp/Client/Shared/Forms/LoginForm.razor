@namespace EpochApp.Client.Shared
@inherits RequestComponent<LoginDTO>

<EditForm Model="@_loginDto" OnSubmit="@(async e => await AttemptLoginAsync(e))">
	<EpochValidator @ref="@_validator" />

	<FlatGrid Cols="RowCols.Cols1">
		<FlatGridItem Span="GridCols.Default">
			<FlatTextInput Label="Username" Placeholder="FuchsFarbe" @bind-Value="@_loginDto.UserName" Required="true" InputType="@InputType.Text" MinLength="8" MaxLength="128" DisplayName="Username" Disabled="@_loggingIn" />
		</FlatGridItem>
		<FlatGridItem Span="GridCols.Default">
			<FlatTextInput Label="Password" Placeholder="*******" @bind-Value="@_loginDto.Password" Required="true" InputType="@InputType.Password" MinLength="8" MaxLength="128" DisplayName="Password" Disabled="@_loggingIn" />
		</FlatGridItem>
	</FlatGrid>

	<FlatBreak Color="FlatColor.Accent" BreakType="BreakType.Default" />

	<FlatGrid Cols="RowCols.Cols1">
		<FlatGridItem Span="GridCols.Default">
			<FlatButton Width="ElementWidth.ExtraLarge" Disabled="@_loggingIn" Color="FlatColor.Accent" Variant="Variant.Border" ButtonType="ButtonType.Submit">
				Login
			</FlatButton>
		</FlatGridItem>
		<FlatGridItem Span="GridCols.Default">
			<FlatButton Width="ElementWidth.ExtraLarge" Disabled="@_loggingIn" Color="FlatColor.Orange" Target="_self" ButtonType="ButtonType.Button" Variant="Variant.Text" Link="@($"{StaticUtils.Auth.RegistrationNav}")">
				Register
			</FlatButton>
		</FlatGridItem>
	</FlatGrid>
</EditForm>